"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[4960],{8363:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>p,frontMatter:()=>o,metadata:()=>a,toc:()=>c});var t=i(5893),s=i(1151);const o={id:"solution-deploy-ier",sidebar_position:4,title:"IBM Enterprise Records"},r=void 0,a={id:"Create/Deploy/solution-deploy-ier",title:"IBM Enterprise Records",description:"Deploy IER",source:"@site/docs/3-Create/Deploy/ier.mdx",sourceDirName:"3-Create/Deploy",slug:"/Create/Deploy/solution-deploy-ier",permalink:"/solution-filenet-aws/Create/Deploy/solution-deploy-ier",draft:!1,unlisted:!1,editUrl:"https://github.com/ibm-client-engineering/solution-filenet-aws/tree/main/packages/create-docusaurus/templates/shared/docs/3-Create/Deploy/ier.mdx",tags:[],version:"current",sidebarPosition:4,frontMatter:{id:"solution-deploy-ier",sidebar_position:4,title:"IBM Enterprise Records"},sidebar:"tutorialSidebar",previous:{title:"FNCM Operator",permalink:"/solution-filenet-aws/Create/Deploy/solution-deploy-operator"},next:{title:"Use Cases",permalink:"/solution-filenet-aws/category/use-cases"}},l={},c=[{value:"Deploy IER",id:"deploy-ier",level:2},{value:"Create the <code>ibm-ier-secret</code>",id:"create-the-ibm-ier-secret",level:3},{value:"Create the config map <code>fncmdeploy-tm-custom-env</code>",id:"create-the-config-map-fncmdeploy-tm-custom-env",level:3},{value:"Update the CR for Task Manager",id:"update-the-cr-for-task-manager",level:3},{value:"Updating CR for IER deployment",id:"updating-cr-for-ier-deployment",level:3},{value:"Uploading config jars to the Task Manager pod",id:"uploading-config-jars-to-the-task-manager-pod",level:3},{value:"Apply the CR",id:"apply-the-cr",level:3},{value:"IER Configuration",id:"ier-configuration",level:2},{value:"Validate IER Functionality",id:"validate-ier-functionality",level:2},{value:"Managing Records",id:"managing-records",level:2},{value:"Appendix",id:"appendix",level:2},{value:"Applying fix for IER",id:"applying-fix-for-ier",level:3}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"deploy-ier",children:"Deploy IER"}),"\n",(0,t.jsx)(n.p,{children:"If IBM Enterprise Records is required, you should have already staged the image per the previous instructions in Staging."}),"\n",(0,t.jsxs)(n.h3,{id:"create-the-ibm-ier-secret",children:["Create the ",(0,t.jsx)(n.code,{children:"ibm-ier-secret"})]}),"\n",(0,t.jsx)(n.p,{children:"If deploying IER, create the following"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'kubectl create secret generic ibm-ier-secret \\\n--from-literal=appLoginUsername="cpadmin" \\\n--from-literal=appLoginPassword="Password" \\\n--from-literal=keystorePassword="p@ssw0rd" \\\n--from-literal=ltpaPassword="p@ssw0rd"\n'})}),"\n",(0,t.jsxs)(n.h3,{id:"create-the-config-map-fncmdeploy-tm-custom-env",children:["Create the config map ",(0,t.jsx)(n.code,{children:"fncmdeploy-tm-custom-env"})]}),"\n",(0,t.jsxs)(n.p,{children:["This step is required when deploying IER to the cluster. Task Manager pods require the ",(0,t.jsx)(n.code,{children:"TM_JOB_URL"})," env variable to point to the location of the IER plugin."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"fncmdeploy-tm-custom-env.yaml"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'kind: ConfigMap\napiVersion: v1\nmetadata:\n  name: fncmdeploy-tm-custom-env\n  labels:\n    app: fncmdeploy-tm-custom-env\ndata:\n  TM_JOB_URL: "https://fncmdeploy-ier-svc:9443/EnterpriseRecordsPlugin/IERApplicationPlugin.jar"\n'})}),"\n",(0,t.jsxs)(n.p,{children:["In our case, the TM_JOB_URL referenced ",(0,t.jsx)(n.a,{href:"https://www.ibm.com/docs/en/enterprise-records/5.2.1?topic=in-configuring-content-navigator-task-manager-enterprise-records#frmco011__1",children:"here"}),"\nneeds to point to the internal service URL, not the external URL as it does not exist."]}),"\n",(0,t.jsx)(n.p,{children:"This is also a custom env variable for Task Manager that we will enable in the CR below."}),"\n",(0,t.jsx)(n.p,{children:"Apply it to the cluster"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"kubectl apply -f fncmdeploy-tm-custom-env.yaml\n"})}),"\n",(0,t.jsx)(n.h3,{id:"update-the-cr-for-task-manager",children:"Update the CR for Task Manager"}),"\n",(0,t.jsx)(n.p,{children:"In the filenet CR you used to deploy the cluster, make the following changes and additions:"}),"\n",(0,t.jsxs)(n.p,{children:["Under the Task Manager application block in the CR add the ",(0,t.jsx)(n.code,{children:"custom_configmap"})," to point to the config map we just created. Also make sure the ",(0,t.jsx)(n.code,{children:"security_roles_to_group_mapping"})," are set to ",(0,t.jsx)(n.code,{children:"cpadmins"})," and ",(0,t.jsx)(n.code,{children:"cpusers"})," as these are the groups that exist in LDAP."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"        // highlight-start\n        custom_configmap:\n         - name: fncmdeploy-tm-custom-env\n           is_env: true\n        // highlight-end\n        # - name: <name of configmap>\n        #   volume_path:  # optional\n\n        ## All users/groups belong to one of three roles (Admin, User, or Auditor) that are specific to Task Manager.\n        ## Each role takes a list of users/groups (e.g., groups: [taskAdmins, taskAdmins2]).  Refer to Knowledge Center documentation for details.\n        security_roles_to_group_mapping:\n          task_admins:\n        // highlight-next-line\n            groups: [cpadmins]\n            users: []\n          task_users:\n        // highlight-next-line\n            groups: [cpusers]\n            users: []\n          task_auditors:\n        // highlight-next-line\n            groups: [cpadmins]\n            users: []\n"})}),"\n",(0,t.jsx)(n.h3,{id:"updating-cr-for-ier-deployment",children:"Updating CR for IER deployment"}),"\n",(0,t.jsx)(n.p,{children:"In the filenet CR you used to deploy the cluster, make the following changes and additions:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"  content_optional_components:\n    cpe: true\n    graphql: true\n    cmis: false\n    css: false\n    es: false\n    tm: true\n    ban: true\n    // highlight-start\n    ier: true\n    // highlight-end\n\n"})}),"\n",(0,t.jsxs)(n.p,{children:["After the ",(0,t.jsx)(n.code,{children:"navigator_configuration"})," entry in the CR, add the following section"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'  ier_configuration:\n    arch:\n      amd64: "3 - Most preferred"\n    replica_count: 2\n    ier_ext_tls_secret_name:\n    ier_auth_ca_secret_name:\n    image:\n      // highlight-start\n      # This should point to whatever repo you staged the image in. Leave this as default if using IBM\'s registry\n      repository: cp.icr.io/cp/cp4a/ier/ier\n      // highlight-end\n      tag: ga-5218-ier-if005\n      pull_policy: IfNotPresent\n      // highlight-start\n      # This NEEDS to be set to the correct secret name. Make sure it\'s the one you created above.\n    ier_secret_name: ibm-ier-secret\n      // highlight-end\n    log:\n      format: json\n    resources:\n      requests:\n        cpu: 500m\n        memory: 512Mi\n      limits:\n        cpu: 1\n        memory: 1024Mi\n    auto_scaling:\n      enabled: false\n      max_replicas: 3\n      min_replicas: 1\n      target_cpu_utilization_percentage: 80\n    ier_production_setting:\n      license: accept\n    collectd_enable_plugin_write_graphite: false\n    run_as_user: \n    datavolume:\n      existing_pvc_for_ier_instance: ""\n    probe:\n      readiness:\n        initial_delay_seconds: 120\n        period_seconds: 5\n        timeout_seconds: 10\n        failure_threshold: 6\n      liveness:\n        initial_delay_seconds: 600\n        period_seconds: 5\n        timeout_seconds: 5\n        failure_threshold: 6\n'})}),"\n",(0,t.jsx)(n.h3,{id:"uploading-config-jars-to-the-task-manager-pod",children:"Uploading config jars to the Task Manager pod"}),"\n",(0,t.jsx)(n.p,{children:"Before we apply the modified CR, let's prepare the Task Manager pod."}),"\n",(0,t.jsx)(n.p,{children:"The following files are required for the Task Manager pod:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{target:"_blank",href:i(4320).Z+"",children:(0,t.jsx)(n.code,{children:"Jace.jar"})})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{target:"_blank",href:i(2170).Z+"",children:(0,t.jsx)(n.code,{children:"pe.jar"})})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{target:"_blank",href:i(1033).Z+"",children:(0,t.jsx)(n.code,{children:"peResources.jar"})})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{target:"_blank",href:i(3542).Z+"",children:(0,t.jsx)(n.code,{children:"TM-Liberty.xml"})})}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["The above files and how to get them are referenced ",(0,t.jsx)(n.a,{href:"https://www.ibm.com/docs/en/enterprise-records/5.2.1?topic=in-configuring-content-navigator-task-manager-enterprise-records#frmco011__1",children:"here"}),", but we've included them in our repo."]}),"\n",(0,t.jsx)(n.p,{children:"Retrieve the name of your existing Task Manager pod"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"kubectl get pods | grep tm-deploy\n//highlight-next-line\nfncmdeploy-tm-deploy-9db6b7f7f-6zzjb          1/1     Running   0          5d20h\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Push the jars downloaded above to the ",(0,t.jsx)(n.code,{children:"configDropins/overrides"})," directory on the Task Manager pod."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"kubectl cp Jace.jar fncmdeploy-tm-deploy-9db6b7f7f-6zzjb:configDropins/overrides\nkubectl cp pe.jar fncmdeploy-tm-deploy-9db6b7f7f-6zzjb:configDropins/overrides\nkubectl cp peResources.jar fncmdeploy-tm-deploy-9db6b7f7f-6zzjb:configDropins/overrides\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Push up the ",(0,t.jsx)(n.code,{children:"TM-Liberty.xml"})," file to ",(0,t.jsx)(n.code,{children:"configDropins/overrides"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"kubectl cp TM-Liberty.xml fncmdeploy-tm-deploy-9db6b7f7f-6zzjb:configDropins/overrides\n"})}),"\n",(0,t.jsx)(n.h3,{id:"apply-the-cr",children:"Apply the CR"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"kubectl apply -f ibm_fncm_cr_production.yaml\n"})}),"\n",(0,t.jsx)(n.p,{children:"Wait for about five minutes or so and then check to see if the pod has spun up."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"kubectl get pods\nNAME                                          READY   STATUS    RESTARTS   AGE\nfncmdeploy-cmis-deploy-654774fd5f-5xtnr       1/1     Running   0          6d6h\nfncmdeploy-cpe-deploy-7d7dbffc94-n86tt        1/1     Running   0          3d9h\nfncmdeploy-css-deploy-1-66bbd484b-qzrl9       1/1     Running   0          6d7h\nfncmdeploy-es-deploy-58f9659b8b-klmjh         1/1     Running   0          6d6h\nfncmdeploy-graphql-deploy-775766b99d-cx899    1/1     Running   0          6d6h\n// highlight-start\nfncmdeploy-ier-deploy-6f7465cd5d-sxp9d        1/1     Running   0          7h55m\n// highlight-end\nfncmdeploy-navigator-deploy-58b9c95c4-k9gx7   1/1     Running   0          157m\nfncmdeploy-tm-deploy-7d4fd64759-x28qw         1/1     Running   0          6d6h\nibm-fncm-operator-748884b478-qkd4f            1/1     Running   0          4d2h\npostgres-759fd876ff-d5fxd                     1/1     Running   0          6d9h\n"})}),"\n",(0,t.jsx)(n.h2,{id:"ier-configuration",children:"IER Configuration"}),"\n",(0,t.jsx)(n.p,{children:"Please make sure below object stores are created and required configurations are in place"}),"\n",(0,t.jsx)(n.p,{children:"1- ROS - Object Store"}),"\n",(0,t.jsx)(n.p,{children:"Configure connection points for ROS. Below is a screenshot for reference"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://github.com/ibm-client-engineering/solution-processmining/assets/136734452/07ac22da-b1fa-4e32-98ec-ac5f0b69d617",alt:"ROS"})}),"\n",(0,t.jsx)(n.p,{children:"2- FPOS - Object Store"}),"\n",(0,t.jsx)(n.p,{children:"Create FPOS object store as shown in Screenshot below"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://github.com/ibm-client-engineering/solution-processmining/assets/136734452/46a43cb7-bed4-479c-88b0-6459a962fef1",alt:"FPOS"})}),"\n",(0,t.jsx)(n.p,{children:"IBM Enterprise Records (IER) works in conjunction with FileNet Content Manager to provide the foundation for an enterprise compliance platform.\nBelow diagram is how the content in FileNet Content Manager and the record objects work together"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://github.com/ibm-client-engineering/solution-filenet-aws/assets/136734452/99fc2f22-93c4-4ca9-89a9-e44599fd1553",alt:"Design"})}),"\n",(0,t.jsx)(n.p,{children:"On the left side is a folder in FileNet Content Manager that is in a record-enabled FileNet object store.\nOn the right side is a special object store that contains the record objects. This is called a File Plan Object Store."}),"\n",(0,t.jsx)(n.p,{children:"3- IER Task Manager Setup Configuration"}),"\n",(0,t.jsx)(n.p,{children:"Configuring Task Manager for IER in ICN - In the systems content navigator administration interface go to the settings node.\nScroll down in the general tab under settings to Task Manager configuration\nSelect to enable the task manager service\nAdd the task manager url,Specify the log diretcory"}),"\n",(0,t.jsx)(n.p,{children:"Add the TM_JOB_URL environment variable to the Task Manager deployment"}),"\n",(0,t.jsx)(n.p,{children:"Copy jar files"}),"\n",(0,t.jsx)(n.p,{children:"4- IER Configuration on ICN\nLog in to ICN and navigate to Plugins and add a new pulg in .Add JAR file path and hit load . It will looks like this"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://github.com/ibm-client-engineering/solution-filenet-aws/assets/136734452/d8288174-bfd7-4c9b-ac78-67faa6dd7b4f",alt:"ICNPLUGIN"})}),"\n",(0,t.jsx)(n.p,{children:"Save and Close . Edit the added plugin and scroll down . You will see the file plan repository like this and select Connect and then Click on the FPOS"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://github.com/ibm-client-engineering/solution-filenet-aws/assets/136734452/1b23d73e-ba89-4daa-8ca2-0ec7839c77a8",alt:"ICNFILEPLANREPO"})}),"\n",(0,t.jsxs)(n.p,{children:['Create a desktop "IER" and select repository FPOS. General > Authentication > Repository\nNavigate to Repository Tab and add FPOS and ROS like it is shown below\n',(0,t.jsx)(n.img,{src:"https://github.com/ibm-client-engineering/solution-filenet-aws/assets/136734452/f2126b91-d000-45d2-80c6-202d64ab9232",alt:"ICNREPO"})]}),"\n",(0,t.jsx)(n.p,{children:"log in to IER desk top . Navigate to administration . IER desk top will be visible under desktops and FPOS repository would be visible under Repositories\nIER desk top will have the options shown below"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://github.com/ibm-client-engineering/solution-filenet-aws/assets/136734452/252b6535-f740-4b63-b4c1-551afc79d0bd",alt:"IERDESKTOP"})}),"\n",(0,t.jsxs)(n.p,{children:["Create a custom menu - Copy Document Context Menu and add the IER option as shown below\n",(0,t.jsx)(n.img,{src:"https://github.com/ibm-client-engineering/solution-filenet-aws/assets/136734452/3460c13e-e64e-46db-b669-e5239c8f9763",alt:"CUSTOMMENU"}),"\nAdd the menu to the desktop where IER functionality is exceted .Below is the image where you can add the custom menu created on above step\n",(0,t.jsx)(n.img,{src:"https://github.com/ibm-client-engineering/solution-filenet-aws/assets/136734452/c793b329-9e98-4d55-a3ac-80b7c7fe4055",alt:"CUSTOMMENU1"})]}),"\n",(0,t.jsx)(n.h2,{id:"validate-ier-functionality",children:"Validate IER Functionality"}),"\n",(0,t.jsx)(n.p,{children:"Create a file plan in FPOS and declare a record using the file plan . The document will look like this as a record (electronic/physical etc )"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://github.com/ibm-client-engineering/solution-filenet-aws/assets/136734452/0ed9d858-3407-4194-b8b8-f4d80cd1363b",alt:"RECORD"})}),"\n",(0,t.jsx)(n.h2,{id:"managing-records",children:"Managing Records"}),"\n",(0,t.jsx)(n.p,{children:"Creating an Advanced dispostion schedule -"}),"\n",(0,t.jsx)(n.p,{children:"There are two distinct types of disposition schedules available for your use.Basic dispostion schedule and Advanced dispostion schedule."}),"\n",(0,t.jsx)(n.p,{children:"A Basic disposition schedule is the first. A basic schedule is a record category that specifies the retention period and the retention trigger property (event).\nThe value of using a Basic disposition schedule is faster time to process dispositions and less complexity in defining the schedule specifics."}),"\n",(0,t.jsx)(n.p,{children:"An Advanced disposition schedule contains the retention period, the cut off trigger event (when the clock starts ticking), record phases and disposal instructions.\nAn administrator can associate a disposition schedule with one or more record categories, record folders or record types.\nA record folder can have its own disposition schedule, or it can inherit the disposition schedule associated with a parent record category."}),"\n",(0,t.jsx)(n.p,{children:"In a disposition schedule, an administrator will specify the retention rules for records and instructions for disposing of records at the end of the retention period.\nDisposition instructions and workflows include -"}),"\n",(0,t.jsx)(n.p,{children:"\u2022 Review"}),"\n",(0,t.jsx)(n.p,{children:"\u2022 Transfer to an archive for permanent preservation"}),"\n",(0,t.jsx)(n.p,{children:"\u2022 Export to another location"}),"\n",(0,t.jsx)(n.p,{children:"\u2022 Destroy (with approval)"}),"\n",(0,t.jsx)(n.p,{children:"\u2022 Auto-destroy"}),"\n",(0,t.jsx)(n.p,{children:"Below are the steps how to create a dispostion schedule."}),"\n",(0,t.jsx)(n.p,{children:'1- Navigate to IER desktop and click on Configuration Tab. Select "Advanced Dispostion Schedules" from dropdown as shown below.'}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://github.com/ibm-client-engineering/solution-filenet-aws/assets/136734452/39827486-20a0-4584-a0ce-5eef86065f83",alt:"Dispostion"})}),"\n",(0,t.jsx)(n.p,{children:'2- Click "Add Dispostion Schedule" to create a new dispostion schedule'}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://github.com/ibm-client-engineering/solution-filenet-aws/assets/136734452/d89728ab-3e1e-40be-9e62-6b89d06bd33c",alt:"AddDispostion"})}),"\n",(0,t.jsx)(n.p,{children:"3- Now we need to enter the properties for the dispostion schedule as shown below example"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://github.com/ibm-client-engineering/solution-filenet-aws/assets/136734452/59b49906-74de-4d6e-8262-a2913bc0033f",alt:"DispostionProp"})}),"\n",(0,t.jsx)(n.p,{children:'4- Scroll down on dispostion schedule page.You can see the "Contract dispostion" added like below'}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://github.com/ibm-client-engineering/solution-filenet-aws/assets/136734452/a7cdeb64-4e1a-4ff3-abf6-20a621b3fc22",alt:"DispostionSchedule"})}),"\n",(0,t.jsx)(n.p,{children:"5- A new dispostion schedule is scuessfully added to the list"}),"\n",(0,t.jsx)(n.p,{children:"Applying and executing disposition schedule -"}),"\n",(0,t.jsx)(n.p,{children:"Disposition is normally executed on an automated schedule basis. There may be times that, as a Records Administrator, you would want to apply and execute a disposition schedule manually.\nAlthough this is not the most common mechanism for executing a disposition schedule, it can be done if the need arises."}),"\n",(0,t.jsx)(n.p,{children:'1- Click on the top navigator icon on left corner and navigate to "File Plans"'}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://github.com/ibm-client-engineering/solution-filenet-aws/assets/136734452/d20f11e4-66cf-4811-8e88-78f189dab931",alt:"FilePlan"})}),"\n",(0,t.jsx)(n.p,{children:'2- Navigate to record category and clcik "Add Record Category" . Below is a screenshot for reference.'}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://github.com/ibm-client-engineering/solution-filenet-aws/assets/136734452/77320014-36ea-4fa3-a051-d853fdc12e43",alt:"RecordCategory"})}),"\n",(0,t.jsx)(n.p,{children:'3- Fill in recordcategory properties as shown in below example and click "Add" button'}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://github.com/ibm-client-engineering/solution-filenet-aws/assets/136734452/691b190a-7a61-4adf-abdf-73aff3ba10b4",alt:"RecordProp"})}),"\n",(0,t.jsx)(n.p,{children:"4- Now the records category with DateCreated is visible .Below is a refrence screenshot."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://github.com/ibm-client-engineering/solution-filenet-aws/assets/136734452/79cc265e-25b7-4be9-afd2-571eeb7aff85",alt:"DispostionInstruction"})}),"\n",(0,t.jsx)(n.p,{children:"5- Re-classify previous manually declared record to new Record category.Below is an example to refer."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://github.com/ibm-client-engineering/solution-filenet-aws/assets/136734452/14e93a1b-a4bf-4f46-93aa-0055b36700ff",alt:"Classifyrecord"})}),"\n",(0,t.jsx)(n.p,{children:'in Move Record plan enter "2023 Compliance Rule" and the new record category . Click Move . Below is a screenshot to refer.'}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://github.com/ibm-client-engineering/solution-filenet-aws/assets/136734452/d61b1f41-946f-4315-ba19-1fd8a3e69e86",alt:"MoveRecord"})}),"\n",(0,t.jsx)(n.p,{children:"You can now see the under record category like below."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://github.com/ibm-client-engineering/solution-filenet-aws/assets/136734452/26e81b8c-e718-41f9-9e7d-6c6eb1e6a381",alt:"RecordMoved"})}),"\n",(0,t.jsx)(n.p,{children:"6- Now we can run the dispostion sweep to prepare above record gategory for dispostion."}),"\n",(0,t.jsx)(n.p,{children:'On top left Navigator click on "Tasks" and Click on Schedule > Schedule Basic Dispostion Sweep and shown below'}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://github.com/ibm-client-engineering/solution-filenet-aws/assets/136734452/9bb0887a-292e-4aa3-a16f-1612f3812b67",alt:"DispostionSweep"})}),"\n",(0,t.jsx)(n.p,{children:"Select FPOS and fill in details as shown in refrence screenshot and Schedule Sweep"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://github.com/ibm-client-engineering/solution-filenet-aws/assets/136734452/4e3ff62b-08a5-40da-98a8-18f727e19ac0",alt:"FPOS"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://github.com/ibm-client-engineering/solution-filenet-aws/assets/136734452/cd7c19e6-7fa3-4200-955f-71bd6ace6e0e",alt:"ScheduleSweep"})}),"\n",(0,t.jsx)(n.p,{children:"You will see the scheduled sweep with a Status of Scheduled. Click Refresh until you see it shows Completed."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://github.com/ibm-client-engineering/solution-filenet-aws/assets/136734452/98bf60c6-1af1-4fa5-b29b-eb8e910d68d9",alt:"DispostionSchedule"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://github.com/ibm-client-engineering/solution-filenet-aws/assets/136734452/7164acd1-a15e-4a6d-aa8a-029794c64bda",alt:"DispostionComplete"})}),"\n",(0,t.jsx)(n.p,{children:'Optionally click "Download Report" button to view the report is generated . Below are few screenshots for refrence.'}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://github.com/ibm-client-engineering/solution-filenet-aws/assets/136734452/883929f9-ca61-4028-aab9-9138ddc8cb25",alt:"DownloadReport"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://github.com/ibm-client-engineering/solution-filenet-aws/assets/136734452/b3566ee3-83ad-4092-a4c1-ee84e20edecf",alt:"ReportScreenshot"})}),"\n",(0,t.jsx)(n.h2,{id:"appendix",children:"Appendix"}),"\n",(0,t.jsx)(n.h3,{id:"applying-fix-for-ier",children:"Applying fix for IER"}),"\n",(0,t.jsxs)(n.admonition,{type:"info",children:[(0,t.jsx)(n.p,{children:"As of 23.0.x release of CP4BA, the following bug was introduced into IBM FileNet Content Manager:"}),(0,t.jsx)(n.p,{children:'When trying to access the IBM Enterprise Records desktop, an error message says that you cannot connect to the web client.\nThe log also shows that an exception was thrown "java.lang.NoClassDefFoundError: org.apache.xerces.xni.parser.XMLEntityResolver".'}),(0,t.jsx)(n.p,{children:"Cause:\nAfter moving to Java 11, IERApplicationPlugin.jar is unable to resolve the path to XercesImpl.jar in the ICN container."}),(0,t.jsxs)(n.p,{children:["Tracked in this ",(0,t.jsx)(n.a,{href:"https://www.ibm.com/support/pages/ibm-cloud-pak-business-automation-230x-known-limitations#I42202",children:"link"})]}),(0,t.jsx)(n.p,{children:"The following instructions handle addressing this missing jar file."})]}),"\n",(0,t.jsx)(n.p,{children:"We have included the required files here."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/ibm-client-engineering/solution-filenet-aws/blob/main/static/deployment_files/ExtraJars/ier-library.xml",children:"ier-library.xml"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/ibm-client-engineering/solution-filenet-aws/blob/main/static/deployment_files/ExtraJars/xercesImpl-2.12.2.jar",children:"xercesImpl-2.12.2.jar"})}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Keep in mind that future releases of CP4BA and FileNet may not require this fix to be applied. This is currently only applicable to 23.0.1."}),"\n",(0,t.jsx)(n.p,{children:"Determine the navigator pod with the following command:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"kubectl get pods\nNAME                                          READY   STATUS    RESTARTS   AGE\nfncmdeploy-cmis-deploy-654774fd5f-5xtnr       1/1     Running   0          12d\nfncmdeploy-cpe-deploy-7d7dbffc94-n86tt        1/1     Running   0          9d\nfncmdeploy-css-deploy-1-66bbd484b-qzrl9       1/1     Running   0          12d\nfncmdeploy-es-deploy-58f9659b8b-klmjh         1/1     Running   0          12d\nfncmdeploy-graphql-deploy-775766b99d-cx899    1/1     Running   0          12d\nfncmdeploy-ier-deploy-6f7465cd5d-sxp9d        1/1     Running   0          6d8h\n// highlight-next-line\nfncmdeploy-navigator-deploy-58b9c95c4-kt6jc   1/1     Running   0          3d9h\nfncmdeploy-tm-deploy-7d4fd64759-x28qw         1/1     Running   0          12d\nibm-fncm-operator-748884b478-qkd4f            1/1     Running   0          10d\npostgres-759fd876ff-d5fxd                     1/1     Running   0          12d\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Create the ",(0,t.jsx)(n.code,{children:"ier-jars"})," subdirectory on the navigator pod:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"kubectl exec -it fncmdeploy-navigator-deploy-58b9c95c4-kt6jc -- mkdir configDropins/overrides/ier-jars\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Upload the ",(0,t.jsx)(n.code,{children:"ier-library.xml"})," and the ",(0,t.jsx)(n.code,{children:"xercesImpl-2.12.2.jar"})," to that subdirectory on the navigator pod."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"kubectl cp ier-library.xml fncmdeploy-navigator-deploy-58b9c95c4-kt6jc:configDropins/overrides/\nkubectl cp xercesImpl-2.12.2.jar fncmdeploy-navigator-deploy-58b9c95c4-kt6jc:configDropins/overrides/ier-jars/xercesImpl.jar\n"})}),"\n",(0,t.jsx)(n.p,{children:"Scale the navigator deployment down and up. If your replicas are more that 1, scale appropriately."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"kubectl scale deploy fncmdeploy-navigator-deploy --replicas=0\nkubectl scale deploy fncmdeploy-navigator-deploy --replicas=1\n"})})]})}function p(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},4320:(e,n,i)=>{i.d(n,{Z:()=>t});const t=i.p+"assets/files/Jace-2ff77484453703cde357cb0265c40e45.jar"},3542:(e,n,i)=>{i.d(n,{Z:()=>t});const t=i.p+"assets/files/TM-Liberty-395ab308d6b63dfeb248f7e2ae84e524.xml"},2170:(e,n,i)=>{i.d(n,{Z:()=>t});const t=i.p+"assets/files/pe-c5d21fd931013bfd946e95b0691e7b00.jar"},1033:(e,n,i)=>{i.d(n,{Z:()=>t});const t=i.p+"assets/files/peResources-675de07619c049aee793af612daf0824.jar"},1151:(e,n,i)=>{i.d(n,{Z:()=>a,a:()=>r});var t=i(7294);const s={},o=t.createContext(s);function r(e){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);